# Java
+ 文件下载java处理
```java
  @RequestMapping("downloadUrl")
    public void downloadUrl(HttpServletRequest request,HttpServletResponse response)throws IOException {
        String fileName = "";
        String filePath = "";
        
        request.setCharacterEncoding("utf-8");
        InputStream  in  = new FileInputStream(filePath);
        response.reset();//清除首部空白行
        // 1. 设置响应类型
        response.setContentType("application/force-download");//应用程序强制下载
        // 2. 设置响应头
        fileName = new String(fileName.getBytes());//要下载的文件名
        // 如果Header中没有定义则添加，如果已定义则用新的value覆盖原用value值
        // response.setHeader("Content-Disposition","attachment;filename=" + fileName);
        // 如果Header中没有定义则添加，如果已定义则保持原有value不改变
        response.addHeader("Content-Disposition","attachment;filename=" + fileName);
        // 以流的形式(任意格式)下载文件
        response.setContentType("application/octet-stream");
        response.setContentLength(in.available());
        // 3. 读取文件内容
        OutputStream out = response.getOutputStream();
        byte[] b = new byte[1024];
        int len = 0;
        while((len = in.read(b))!=-1){
            out.write(b,0,len);
        }
        out.flush();
        out.close();
        in.close();
    }
```
